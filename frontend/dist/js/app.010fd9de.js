(function(t){function e(e){for(var o,a,i=e[0],u=e[1],c=e[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);m&&m(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},s=[];function a(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"87408da5"}[t]+".js"}function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=o);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=a(t);var c=new Error;s=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,n[1](c)}r[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var m=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),r=n.n(o);r.a},2341:function(t,e,n){},2436:function(t,e,n){"use strict";var o=n("2341"),r=n.n(o);r.a},"391a":function(t,e,n){t.exports=n.p+"img/covid19.ba9cbe97.png"},"4e3e":function(t,e,n){"use strict";var o=n("aa7b"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("Header")],1),n("router-view")],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header wrapper clearfix"},[n("div",{staticClass:"center"},[t._m(0),n("small",[t._v("The app that connects you to the world when Covid has you stuck in one place.")]),n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v("| "),n("router-link",{attrs:{to:"/about"}},[t._v("About")]),t._v("| "),n("router-link",{attrs:{to:"/groups"}},[t._v("Groups")]),t._v("| "),n("router-link",{attrs:{to:"/Register"}},[t._v("Register")]),t._v("| "),n("router-link",{attrs:{to:"/Login"}},[t._v("Login")]),t._v("| "),n("router-link",{attrs:{to:"/user"}},[t._v("User Profile")]),t._v("| ")],1)])])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h1",[t._v("gotY"),o("img",{staticClass:"logo",attrs:{src:n("391a"),alt:"",height:"70",width:"70"}}),t._v("Ucovid")])}],u={name:"Header",components:{},data:function(){return{token:localStorage.getItem("user-token")||null}},methods:{logout:function(){localStorage.removeItem("user-token"),this.token=null}},created:function(){this.token=TokenService.getToken()||null}},c=u,l=(n("70bd"),n("2877")),m=Object(l["a"])(c,a,i,!1,null,"7ccc89ba",null),p=m.exports,d={name:"app",components:{Header:p}},f=d,v=(n("034f"),Object(l["a"])(f,r,s,!1,null,null,null)),h=v.exports,g=(n("d3b7"),n("8c4f")),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"container"},[n("AddPost"),n("FilterPosts"),n("Posts")],1)])},_=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Posts")]),n("div",{staticClass:"posts"},t._l(t.allPosts,(function(e){return n("div",{key:e.id,staticClass:"post",on:{click:function(n){return n.target!==n.currentTarget?null:t.setIsOpen(e.id)}}},[t._v(" Text: "+t._s(e.content)+" "),n("div",{staticClass:"comments"},[n("AddComment",{attrs:{parentData:e.id}}),n("transition-group",{attrs:{name:"fade"}},t._l(t.allComments,(function(o){return n("div",{key:o.commentid},[o.postid==e.id&&1==o.isOpen?n("p",[t._v(" "+t._s(o.text)+" ")]):t._e()])})),0)],1)])})),0)])},O=[],x=n("5530"),C=n("2f62"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" Add Comment "),n("div",{staticClass:"addComment"},[n("form",{on:{submit:t.onSubmit}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"Add text..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("input",{attrs:{type:"submit",value:"Submit"}})])])])},y=[],k=(n("a9e3"),{name:"AddComment",props:{parentData:{type:Number,default:function(){return""}}},data:function(){return{text:""}},methods:Object(x["a"])(Object(x["a"])({},Object(C["b"])(["addComment"])),{},{onSubmit:function(t){t.preventDefault(),this.addComment({text:this.text,postID:this.parentData})}})}),j=k,R=(n("2436"),Object(l["a"])(j,P,y,!1,null,"732cff1b",null)),T=R.exports,I={name:"Posts",components:{AddComment:T},methods:Object(x["a"])({},Object(C["b"])(["fetchPosts","setIsOpen"])),computed:Object(C["c"])(["allPosts","allComments"]),created:function(){this.fetchPosts()}},E=I,S=(n("d1fe"),Object(l["a"])(E,w,O,!1,null,"5d4c65c8",null)),D=S.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" Sort By: "),n("select",{on:{change:function(e){return t.filterPosts(e)}}},[t._m(0),n("option",{attrs:{value:"location"}},[t._v("Location")]),n("option",{attrs:{value:"category"}},[t._v("Category")]),n("option",{attrs:{value:"group_user"}},[t._v("Group/User")])])])},$=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("optgroup",{attrs:{label:"Time"}},[n("option",{attrs:{value:"timeAsc"}},[t._v("Time - Ascending Order")]),n("option",{attrs:{value:"timeDesc"}},[t._v("Time - Descending Order")])])}],U={name:"FilterPosts",methods:Object(C["b"])(["filterPosts"])},N=U,L=(n("4e3e"),Object(l["a"])(N,A,$,!1,null,"6133d039",null)),H=L.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Add Post")]),n("div",{staticClass:"add"},[n("form",{on:{submit:t.onSubmit}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"Add title..."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"Add text..."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("input",{attrs:{type:"submit",value:"Submit"}})])])])},G=[],F={name:"AddPost",data:function(){return{title:"",content:""}},methods:Object(x["a"])(Object(x["a"])({},Object(C["b"])(["addPost","updateCommentPostID"])),{},{onSubmit:function(t){t.preventDefault(),this.updateCommentPostID(),this.addPost({userID:1,title:this.title,content:this.content})}})},J=F,Y=(n("62db"),Object(l["a"])(J,B,G,!1,null,"ba4d350c",null)),M=Y.exports,V={name:"Home",components:{Posts:D,FilterPosts:H,AddPost:M}},W=V,X=(n("cccb"),Object(l["a"])(W,b,_,!1,null,null,null)),q=X.exports,z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},K=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"groups"},[n("h1",[t._v("Groups")]),n("p",[t._v("Here is where we will put all the group functionality, including messages and admin of groups etc.")])])}],Q={},Z=Object(l["a"])(Q,z,K,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("h1",[t._v("User Registration")]),n("form",{attrs:{id:"RegisterUser"},on:{submit:function(e){return e.preventDefault(),t.CreateUser(e)}}},[n("p",[n("label",{attrs:{for:"username"}},[t._v("Username ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"ml-2",attrs:{type:"text",name:"username",id:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("p",[n("label",{attrs:{for:"email"}},[t._v("Email ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"ml-2",attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("p",[n("label",{attrs:{for:"password"}},[t._v("password ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"ml-2",attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)])])},nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("input",{attrs:{type:"submit",value:"Submit"}})])}],ot=n("bc3a"),rt=n.n(ot),st={name:"Register",components:{},data:function(){return{username:null,password:null}},methods:{CreateUser:function(){console.log(this.username),rt.a.post("http://127.0.0.1:8000/api/Register/",{username:this.username,email:this.email,password:this.password}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)})),this.$router.push("/Login")}}},at=st,it=Object(l["a"])(at,et,nt,!1,null,null,null),ut=it.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"login form"},[n("div",{staticClass:"field"},[n("label",{attrs:{for:"id_username"}},[t._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"Username",autofocus:"autofocus",maxlength:"150",id:"id_username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",{attrs:{for:"id_password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",id:"id_password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"button primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.authenticate(e)}}},[t._v(" Log In ")])])},lt=[],mt={data:function(){return{username:"",password:""}},methods:{authenticate:function(){var t=this,e={username:this.username,password:this.password};rt.a.post(this.$store.state.endpoints.obtainJWT,e).then((function(e){t.$store.commit("updateToken",e.data.token);var n={baseURL:t.$store.state.endpoints.baseUrl,headers:{Authorization:"JWT ".concat(t.$store.state.jwt),"Content-Type":"application/json"},xhrFields:{withCredentials:!0}},o=rt.a.create(n);o({url:"/user/",method:"get",params:{}}).then((function(e){t.$store.commit("setAuthUser",{authUser:e.data,isAuthenticated:!0}),t.$router.push({name:"Home"})}))})).catch((function(t){console.log(t),console.debug(t),console.dir(t)}))}}},pt=mt,dt=Object(l["a"])(pt,ct,lt,!1,null,null,null),ft=dt.exports,vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ht=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile"},[n("h1",[t._v("User Profile")]),n("p",[t._v("This is where we will put the users profile settings that they can change")])])}],gt={},bt=Object(l["a"])(gt,vt,ht,!1,null,null,null),_t=bt.exports;o["default"].use(g["a"]);var wt=[{path:"/",name:"Home",component:q},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/groups",name:"Groups",component:tt},{path:"/Register",name:"Register",component:ut},{path:"/Login",name:"Login",component:ft},{path:"/user",name:"Profile",component:_t}],Ot=new g["a"]({routes:wt}),xt=Ot,Ct=n("5f5b"),Pt=(n("f9e3"),n("2dd8"),n("96cf"),n("1da1")),yt={posts:[]},kt={allPosts:function(t){return t.posts}},jt={fetchPosts:function(t){return Object(Pt["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,rt.a.get("http://127.0.0.1:8000/api/Post/");case 3:o=e.sent,n("setPosts",o.data);case 5:case"end":return e.stop()}}),e)})))()},addPost:function(t,e){return Object(Pt["a"])(regeneratorRuntime.mark((function n(){var o,r,s,a,i,u,c,l,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=t.commit,r=e.userID,s=e.title,a=e.content,i=e.location,u=e.category,c=e.groupID,l=new Date,m=l.getTime(),o("incrementPostIDs"),o("newPost",{userID:r,title:s,content:a,time:m,location:i,category:u,groupID:c});case 6:case"end":return n.stop()}}),n)})))()},filterPosts:function(t,e){return Object(Pt["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=t.commit,r=e.target.options[e.target.options.selectedIndex].innerText,console.log(r),o("sortPostsBy",r),o("setPosts",yt.posts);case 5:case"end":return n.stop()}}),n)})))()}},Rt={setPosts:function(t,e){return t.posts=e},newPost:function(t,e){var n=e.userID,o=e.title,r=e.content,s=e.time,a=e.location,i=e.category,u=e.groupID,c={userId:n,title:o,id:1,content:r,time:s,location:a,category:i,groupid:u};t.posts.unshift(c)},incrementPostIDs:function(t){var e=0;for(e=0;e<t.posts.length;e++)t.posts[e].id=t.posts[e].id+1},sortPostsBy:function(t,e){switch(e){case"Time":console.log("Todo: SORT BY TIME ON SERVER SIDE");break;case"Location":console.log("Todo: SORT BY LOCATION ON SERVER SIDE");break;case"Category":console.log("Todo: SORT BY CATEGORY ON SERVER SIDE");break;case"Group/User":console.log("Todo: SORT BY GROUP/USER ON SERVER SIDE");break;default:break}}},Tt={state:yt,getters:kt,actions:jt,mutations:Rt},It={comments:[{postid:1,commentid:1,text:"Comment 1",isOpen:!1},{postid:1,commentid:2,text:"Comment 2",isOpen:!1},{postid:2,commentid:3,text:"Comment 3",isOpen:!1},{postid:2,commentid:4,text:"Comment 4",isOpen:!1},{postid:3,commentid:5,text:"Comment 5",isOpen:!1},{postid:3,commentid:6,text:"Comment 6",isOpen:!1},{postid:4,commentid:7,text:"Comment 7",isOpen:!1},{postid:4,commentid:8,text:"Comment 8",isOpen:!1},{postid:5,commentid:9,text:"Comment 9",isOpen:!1},{postid:5,commentid:10,text:"Comment 10",isOpen:!1},{postid:1,commentid:11,text:"Comment 11",isOpen:!1},{postid:4,commentid:12,text:"Comment 12",isOpen:!1},{postid:4,commentid:13,text:"Comment 13",isOpen:!1}]},Et={allComments:function(t){return t.comments}},St={setIsOpen:function(t,e){return Object(Pt["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=t.commit,o("changeIsOpen",e);case 2:case"end":return n.stop()}}),n)})))()},updateCommentPostID:function(t){return Object(Pt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n("updatePostIDs");case 2:case"end":return e.stop()}}),e)})))()},addComment:function(t,e){return Object(Pt["a"])(regeneratorRuntime.mark((function n(){var o,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=t.commit,r=e.text,s=e.postID,o("plusComment",{text:r,postID:s});case 3:case"end":return n.stop()}}),n)})))()}},Dt={changeIsOpen:function(t,e){var n=0;for(n=0;n<t.comments.length;n++)t.comments[n].postid==e&&(t.comments[n].isOpen=!t.comments[n].isOpen)},updatePostIDs:function(t){var e=0;for(e=0;e<t.comments.length;e++)t.comments[e].postid++},plusComment:function(t,e){for(var n=e.text,o=e.postID,r=0,s=!1,a=0;a<t.comments.length;a++)r=a+2,t.comments[a].postid==o&&1==t.comments[a].isOpen&&(s=!0);var i={postid:o,commentid:r,text:n,isOpen:s};t.comments.unshift(i)}},At={state:It,getters:Et,actions:St,mutations:Dt};o["default"].use(C["a"]),rt.a.defaults.xsrfCookieName="csrftoken",rt.a.defaults.xsrfHeaderName="X-CSRFToken";var $t=new C["a"].Store({modules:{posts:Tt,comments:At},state:{authUser:{},isAuthenticated:!1,jwt:localStorage.getItem("token"),endpoints:{obtainJWT:"http://127.0.0.1:8000/api/v1/auth/obtain_token/",refreshJWT:"http://127.0.0.1:8000/api/v1/auth/refresh_token/",baseUrl:"http://127.0.0.1:8000/api/v1/"}},mutations:{setAuthUser:function(t,e){var n=e.authUser,r=e.isAuthenticated;o["default"].set(t,"authUser",n),o["default"].set(t,"isAuthenticated",r)},updateToken:function(t,e){localStorage.setItem("token",e),t.jwt=e},removeToken:function(t){localStorage.removeItem("token"),t.jwt=null}}});o["default"].use(Ct["a"]),o["default"].config.productionTip=!1,rt.a.defaults.xsrfHeaderName="X-CSRFTOKEN",rt.a.defaults.xsrfCookieName="csrftoken",new o["default"]({store:$t,router:xt,render:function(t){return t(h)}}).$mount("#app")},"597e":function(t,e,n){},"5c31":function(t,e,n){},"5ced":function(t,e,n){},"62db":function(t,e,n){"use strict";var o=n("5c31"),r=n.n(o);r.a},"70bd":function(t,e,n){"use strict";var o=n("597e"),r=n.n(o);r.a},"85ec":function(t,e,n){},aa7b:function(t,e,n){},c768:function(t,e,n){},cccb:function(t,e,n){"use strict";var o=n("5ced"),r=n.n(o);r.a},d1fe:function(t,e,n){"use strict";var o=n("c768"),r=n.n(o);r.a}});
//# sourceMappingURL=app.010fd9de.js.map