{"remainingRequest":"/home/u/Desktop/group1-rw334-project-2/frontend/node_modules/thread-loader/dist/cjs.js!/home/u/Desktop/group1-rw334-project-2/frontend/node_modules/babel-loader/lib/index.js!/home/u/Desktop/group1-rw334-project-2/frontend/src/store/index.js","dependencies":[{"path":"/home/u/Desktop/group1-rw334-project-2/frontend/src/store/index.js","mtime":1591441394964},{"path":"/home/u/Desktop/group1-rw334-project-2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/u/Desktop/group1-rw334-project-2/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/u/Desktop/group1-rw334-project-2/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHBvc3RzIGZyb20gJy4vbW9kdWxlcy9wb3N0cyc7CmltcG9ydCBjb21tZW50cyBmcm9tICcuL21vZHVsZXMvY29tbWVudHMnOyAvLyBMb2FkIFZ1ZXgKClZ1ZS51c2UoVnVleCk7IC8vIENyZWF0ZSBzdG9yZQovL2V4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKLy8gICAgbW9kdWxlczogewovLyAgICAgICAgcG9zdHMsCi8vICAgICAgICBjb21tZW50cwovLyAgICB9Ci8vfSk7Ci8vLy8vLy8vLy8vICBUaGUgZm9sbG93aW5nIGNvZGUgaXMgdG8gbWFrZSBqd3QgYXV0aG9yaXphdGlvbiB3b3JrCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOyAvL1Z1ZS51c2UoVnVleCkKLy8gTWFrZSBBeGlvcyBwbGF5IG5pY2Ugd2l0aCBEamFuZ28gQ1NSRgoKYXhpb3MuZGVmYXVsdHMueHNyZkNvb2tpZU5hbWUgPSAnY3NyZnRva2VuJzsKYXhpb3MuZGVmYXVsdHMueHNyZkhlYWRlck5hbWUgPSAnWC1DU1JGVG9rZW4nOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgbW9kdWxlczogewogICAgcG9zdHM6IHBvc3RzLAogICAgY29tbWVudHM6IGNvbW1lbnRzCiAgfSwKICBzdGF0ZTogewogICAgYXV0aFVzZXI6IHt9LAogICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwKICAgIGp3dDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksCiAgICBlbmRwb2ludHM6IHsKICAgICAgLy8gVE9ETzogUmVtb3ZlIGhhcmRjb2Rpbmcgb2YgZGV2IGVuZHBvaW50cwogICAgICBvYnRhaW5KV1Q6ICdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3YxL2F1dGgvb2J0YWluX3Rva2VuLycsCiAgICAgIHJlZnJlc2hKV1Q6ICdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3YxL2F1dGgvcmVmcmVzaF90b2tlbi8nLAogICAgICBiYXNlVXJsOiAnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS92MS8nCiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldEF1dGhVc2VyOiBmdW5jdGlvbiBzZXRBdXRoVXNlcihzdGF0ZSwgX3JlZikgewogICAgICB2YXIgYXV0aFVzZXIgPSBfcmVmLmF1dGhVc2VyLAogICAgICAgICAgaXNBdXRoZW50aWNhdGVkID0gX3JlZi5pc0F1dGhlbnRpY2F0ZWQ7CiAgICAgIFZ1ZS5zZXQoc3RhdGUsICdhdXRoVXNlcicsIGF1dGhVc2VyKTsKICAgICAgVnVlLnNldChzdGF0ZSwgJ2lzQXV0aGVudGljYXRlZCcsIGlzQXV0aGVudGljYXRlZCk7CiAgICB9LAogICAgdXBkYXRlVG9rZW46IGZ1bmN0aW9uIHVwZGF0ZVRva2VuKHN0YXRlLCBuZXdUb2tlbikgewogICAgICAvLyBUT0RPOiBGb3Igc2VjdXJpdHkgcHVycG9zZXMsIHRha2UgbG9jYWxTdG9yYWdlIG91dCBvZiB0aGUgcHJvamVjdC4KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgbmV3VG9rZW4pOwogICAgICBzdGF0ZS5qd3QgPSBuZXdUb2tlbjsKICAgIH0sCiAgICByZW1vdmVUb2tlbjogZnVuY3Rpb24gcmVtb3ZlVG9rZW4oc3RhdGUpIHsKICAgICAgLy8gVE9ETzogRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCB0YWtlIGxvY2FsU3RvcmFnZSBvdXQgb2YgdGhlIHByb2plY3QuCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICBzdGF0ZS5qd3QgPSBudWxsOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/u/Desktop/group1-rw334-project-2/frontend/src/store/index.js"],"names":["Vuex","Vue","posts","comments","use","axios","defaults","xsrfCookieName","xsrfHeaderName","Store","modules","state","authUser","isAuthenticated","jwt","localStorage","getItem","endpoints","obtainJWT","refreshJWT","baseUrl","mutations","setAuthUser","set","updateToken","newToken","setItem","removeToken","removeItem"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,QAAP,MAAqB,oBAArB,C,CAEA;;AACAF,GAAG,CAACG,GAAJ,CAAQJ,IAAR,E,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,OAAOK,KAAP,MAAkB,OAAlB,C,CAEA;AAEA;;AACAA,KAAK,CAACC,QAAN,CAAeC,cAAf,GAAgC,WAAhC;AACAF,KAAK,CAACC,QAAN,CAAeE,cAAf,GAAgC,aAAhC;AAEA,eAAe,IAAIR,IAAI,CAACS,KAAT,CAAe;AAC5BC,EAAAA,OAAO,EAAE;AACLR,IAAAA,KAAK,EAALA,KADK;AAELC,IAAAA,QAAQ,EAARA;AAFK,GADmB;AAK5BQ,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,eAAe,EAAE,KAFZ;AAGLC,IAAAA,GAAG,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAHA;AAILC,IAAAA,SAAS,EAAE;AACT;AACAC,MAAAA,SAAS,EAAE,iDAFF;AAGTC,MAAAA,UAAU,EAAE,kDAHH;AAITC,MAAAA,OAAO,EAAE;AAJA;AAJN,GALqB;AAiB5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,WADS,uBACGX,KADH,QAIN;AAAA,UAFDC,QAEC,QAFDA,QAEC;AAAA,UADDC,eACC,QADDA,eACC;AACDZ,MAAAA,GAAG,CAACsB,GAAJ,CAAQZ,KAAR,EAAe,UAAf,EAA2BC,QAA3B;AACAX,MAAAA,GAAG,CAACsB,GAAJ,CAAQZ,KAAR,EAAe,iBAAf,EAAkCE,eAAlC;AACD,KAPQ;AAQTW,IAAAA,WARS,uBAQGb,KARH,EAQUc,QARV,EAQoB;AAC3B;AACAV,MAAAA,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BD,QAA9B;AACAd,MAAAA,KAAK,CAACG,GAAN,GAAYW,QAAZ;AACD,KAZQ;AAaTE,IAAAA,WAbS,uBAaGhB,KAbH,EAaU;AACjB;AACAI,MAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACAjB,MAAAA,KAAK,CAACG,GAAN,GAAY,IAAZ;AACD;AAjBQ;AAjBiB,CAAf,CAAf","sourcesContent":["import Vuex from 'vuex';\nimport Vue from 'vue';\nimport posts from './modules/posts';\nimport comments from './modules/comments';\n\n// Load Vuex\nVue.use(Vuex);\n\n// Create store\n//export default new Vuex.Store({\n//    modules: {\n//        posts,\n//        comments\n//    }\n//});\n\n///////////  The following code is to make jwt authorization work\nimport axios from 'axios'\n\n//Vue.use(Vuex)\n\n// Make Axios play nice with Django CSRF\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\nexport default new Vuex.Store({\n  modules: {\n      posts,\n      comments\n  },\n  state: {\n    authUser: {},\n    isAuthenticated: false,\n    jwt: localStorage.getItem('token'),\n    endpoints: {\n      // TODO: Remove hardcoding of dev endpoints\n      obtainJWT: 'http://127.0.0.1:8000/api/v1/auth/obtain_token/',\n      refreshJWT: 'http://127.0.0.1:8000/api/v1/auth/refresh_token/',\n      baseUrl: 'http://127.0.0.1:8000/api/v1/'\n    }\n  },\n\n  mutations: {\n    setAuthUser(state, {\n      authUser,\n      isAuthenticated\n    }) {\n      Vue.set(state, 'authUser', authUser)\n      Vue.set(state, 'isAuthenticated', isAuthenticated)\n    },\n    updateToken(state, newToken) {\n      // TODO: For security purposes, take localStorage out of the project.\n      localStorage.setItem('token', newToken);\n      state.jwt = newToken;\n    },\n    removeToken(state) {\n      // TODO: For security purposes, take localStorage out of the project.\n      localStorage.removeItem('token');\n      state.jwt = null;\n    }\n  }\n})\n"]}]}